;/*FB_PKG_DELIM*/

__d("bs_caml",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){if(a<b)return-1;else if(a===b)return 0;else return 1}function b(a,b){if(a)if(b)return 0;else return 1;else if(b)return-1;else return 0}function c(a,b){if(a===b)return 0;else if(a<b)return-1;else if(a>b||a===a)return 1;else if(b===b)return-1;else return 0}function d(a,b){if(a===b)return 0;else if(a<b)return-1;else return 1}function e(a,b){if(a)return b;else return a}function g(a,b){if(a<b)return a;else return b}function h(a,b){if(a<b)return a;else return b}function i(a,b){if(a<b)return a;else return b}function j(a,b){if(a<b)return a;else return b}function k(a,b){if(a)return a;else return b}function l(a,b){if(a>b)return a;else return b}function m(a,b){if(a>b)return a;else return b}function n(a,b){if(a>b)return a;else return b}function o(a,b){if(a>b)return a;else return b}function p(a,b){if(a[1]===b[1])return a[0]===b[0];else return!1}function q(a,b){var c=b[0],d=a[0];if(d>c)return!0;else if(d<c)return!1;else return a[1]>=b[1]}function r(a,b){return!p(a,b)}function s(a,b){return!q(a,b)}function t(a,b){if(a[0]>b[0])return!0;else if(a[0]<b[0])return!1;else return a[1]>b[1]}function u(a,b){return!t(a,b)}function v(a,b){if(q(a,b))return b;else return a}function w(a,b){if(t(a,b))return a;else return b}f.caml_int_compare=a;f.caml_bool_compare=b;f.caml_float_compare=c;f.caml_string_compare=d;f.caml_bool_min=e;f.caml_int_min=g;f.caml_float_min=h;f.caml_string_min=i;f.caml_int32_min=j;f.caml_bool_max=k;f.caml_int_max=l;f.caml_float_max=m;f.caml_string_max=n;f.caml_int32_max=o;f.i64_eq=p;f.i64_neq=r;f.i64_lt=s;f.i64_gt=t;f.i64_le=u;f.i64_ge=q;f.i64_min=v;f.i64_max=w}),null);
__d("bs_caml_int64",["bs_caml"],(function(a,b,c,d,e,f){"use strict";var g;function a(a,b){return[b,a>>>0]}var h=[-2147483648,0],i=[2147483647,4294967295],j=[0,1],k=[0,0],l=[-1,4294967295];function m(a){return(a&-2147483648)!==0}function n(a){return(a&-2147483648)===0}function c(a){var b=a[1];a=a[0];b=b+1|0;return[a+(b===0?1:0)|0,b>>>0]}function o(a){var b=(a[1]^-1)+1|0;return[(a[0]^-1)+(b===0?1:0)|0,b>>>0]}function p(a,b,c){var d=a[1],e=d+b|0;d=m(d)&&(m(b)||n(e))||m(b)&&n(e)?1:0;return[a[0]+c+d|0,e>>>0]}function q(a,b){return p(a,b[1],b[0])}function d(a,c){if(c!==null)return(g||(g=b("bs_caml"))).i64_eq(a,c);else return!1}function e(a,c){if(c!==void 0)return(g||(g=b("bs_caml"))).i64_eq(a,c);else return!1}function r(a,c){if(c==null)return!1;else return(g||(g=b("bs_caml"))).i64_eq(a,c)}function s(a,b,c){b=(b^-1)+1>>>0;c=(c^-1)+(b===0?1:0)|0;return p(a,b,c)}function t(a,b){return s(a,b[1],b[0])}function u(a,b){if(b===0)return a;var c=a[1];if(b>=32)return[c<<(b-32|0),0];else return[c>>>(32-b|0)|a[0]<<b,c<<b>>>0]}function v(a,b){if(b===0)return a;var c=a[0],d=b-32|0;if(d===0)return[0,c>>>0];else if(d>0)return[0,c>>>d];else return[c>>>b,(c<<(-d|0)|a[1]>>>b)>>>0]}function w(a,b){if(b===0)return a;var c=a[0];if(b<32)return[c>>b,(c<<(32-b|0)|a[1]>>>b)>>>0];else return[c>=0?0:-1,c>>(b-32|0)>>>0]}function x(a){if(a[0]!==0)return!1;else return a[1]===0}function y(a,b){while(!0){var c=b,d=a,e,f=d[0],g=0,i=0,j;if(f!==0)j=4;else{if(d[1]===0)return k;j=4}if(j===4)if(c[0]!==0)i=3;else{if(c[1]===0)return k;i=3}i===3&&(f!==-2147483648||d[1]!==0?g=2:e=c[1]);if(g===2){j=c[0];i=d[1];g=0;j!==-2147483648||c[1]!==0?g=3:e=i;if(g===3){g=c[1];if(f<0){if(j>=0)return o(y(o(d),c));b=o(c);a=o(d);continue}if(j<0)return o(y(d,o(c)));d=f>>>16;c=f&65535;f=i>>>16;i=i&65535;var l=j>>>16;j=j&65535;var m=g>>>16;g=g&65535;var n,p,q,r=i*g;q=(r>>>16)+f*g;p=q>>>16;q=(q&65535)+i*m;p=p+(q>>>16)+c*g;n=p>>>16;p=(p&65535)+f*m;n=n+(p>>>16);p=(p&65535)+i*j;n=n+(p>>>16);p=p&65535;n=n+(d*g+c*m+f*j+i*l)&65535;return[p|n<<16,(r&65535|(q&65535)<<16)>>>0]}}if((e&1)===0)return k;else return h}}function z(a,b){return[a[0]^b[0],(a[1]^b[1])>>>0]}function A(a,b){return[a[0]|b[0],(a[1]|b[1])>>>0]}function B(a,b){return[a[0]&b[0],(a[1]&b[1])>>>0]}function C(a){return a[0]*4294967296+a[1]}function D(a){if(isNaN(a)||!isFinite(a))return k;if(a<=-9223372036854776e3)return h;if(a+1>=9223372036854776e3)return i;if(a<0)return o(D(-a));var b=a/4294967296|0;a=a%4294967296|0;return[b,a>>>0]}function E(a){var b=a[0],c=b>>21;if(c===0)return!0;else if(c===-1)return!(a[1]===0&&b===-2097152);else return!1}function F(a){if(E(a))return String(C(a));if(a[0]<0)if((g||(g=b("bs_caml"))).i64_eq(a,h))return"-9223372036854775808";else return"-"+F(o(a));var c=D(Math.floor(C(a)/10)),d=c[1],e=c[0];a=s(s(a,d<<3,d>>>29|e<<3),d<<1,d>>>31|e<<1);d=a[1];e=a[0];if(d===0&&e===0)return F(c)+"0";if(e<0){a=(d^-1)+1>>>0;e=Math.ceil(a/10);a=10*e-a;return F(s(c,e|0,0))+String(a|0)}e=Math.floor(d/10);a=d-10*e;return F(p(c,e|0,0))+String(a|0)}function G(a,c){while(!0){var d=c,e=a,f=e[0],i=0,m;if(d[0]!==0||d[1]!==0)m=2;else throw{RE_EXN_ID:"Division_by_zero",Error:new Error()};if(m===2)if(f!==-2147483648)if(f!==0)i=1;else{if(e[1]===0)return k;i=1}else if(e[1]!==0)i=1;else{if((g||(g=b("bs_caml"))).i64_eq(d,j)||(g||(g=b("bs_caml"))).i64_eq(d,l))return e;if((g||(g=b("bs_caml"))).i64_eq(d,h))return j;m=w(e,1);m=u(G(m,d),1);var n;if(m[0]!==0)n=3;else{if(m[1]===0)if(d[0]<0)return j;else return o(j);n=3}if(n===3){n=t(e,y(d,m));return q(m,G(n,d))}}if(i===1){m=d[0];if(m!==-2147483648)n=2;else{if(d[1]===0)return k;n=2}if(n===2){if(f<0){if(m>=0)return o(G(o(e),d));c=o(d);a=o(e);continue}if(m<0)return o(G(e,o(d)));i=k;n=e;while((g||(g=b("bs_caml"))).i64_ge(n,d)){f=Math.floor(C(n)/C(d));m=1>f?1:f;e=Math.ceil(Math.log(m)/Math.LN2);f=e<=48?1:Math.pow(2,e-48);e=D(m);var p=y(e,d);while(p[0]<0||(g||(g=b("bs_caml"))).i64_gt(p,n))m=m-f,e=D(m),p=y(e,d);x(e)&&(e=j);i=q(i,e);n=t(n,p)}return i}}}}function H(a,b){return t(a,y(G(a,b),b))}function I(a,b){var c=G(a,b);return[c,t(a,y(c,b))]}function J(a,b){var c=b[0],d=a[0];d=d<c?-1:d===c?0:1;if(d!==0)return d;c=b[1];d=a[1];if(d<c)return-1;else if(d===c)return 0;else return 1}function K(a){return[a<0?-1:0,a>>>0]}function L(a){return a[1]|0}function M(a){var b=a[1];a=a[0];var c=function(a){return(a>>>0).toString(16)};if(a===0&&b===0)return"0";if(b===0)return c(a)+"00000000";if(a===0)return c(b);b=c(b);var d=8-b.length|0;if(d<=0)return c(a)+b;else return c(a)+("0".repeat(d)+b)}function N(a){return[2147483647&a[0],a[1]]}function O(a){return function(a,b){return new Float64Array(new Int32Array([a,b]).buffer)[0]}(a[1],a[0])}function P(a){a=function(a){return new Int32Array(new Float64Array([a]).buffer)}(a);return[a[1],a[0]>>>0]}f.mk=a;f.succ=c;f.min_int=h;f.max_int=i;f.one=j;f.zero=k;f.neg_one=l;f.of_int32=K;f.to_int32=L;f.add=q;f.neg=o;f.sub=t;f.lsl_=u;f.lsr_=v;f.asr_=w;f.is_zero=x;f.mul=y;f.xor=z;f.or_=A;f.and_=B;f.equal_null=d;f.equal_undefined=e;f.equal_nullable=r;f.to_float=C;f.of_float=D;f.div=G;f.mod_=H;f.compare=J;f.float_of_bits=O;f.bits_of_float=P;f.div_mod=I;f.to_hex=M;f.discard_sign=N;f.to_string=F}),null);
__d("bs_caml_format",["bs_caml","bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";var g,h;function i(a){if(a>=65)if(a>=97)if(a>=123)return-1;else return a-87|0;else if(a>=91)return-1;else return a-55|0;else if(a>57||a<48)return-1;else return a-48|0}function j(a){switch(a){case 0:return 8;case 1:return 16;case 2:return 10;case 3:return 2}}function k(a){var b=1,c=2,d=0,e=a.charCodeAt(d);switch(e){case 43:d=d+1|0;break;case 44:break;case 45:b=-1;d=d+1|0;break;default:}if(a[d]==="0"){e=a.charCodeAt(d+1|0);if(e>=89)if(e>=111){if(e<121)switch(e){case 111:c=0;d=d+2|0;break;case 117:d=d+2|0;break;case 112:case 113:case 114:case 115:case 116:case 118:case 119:break;case 120:c=1;d=d+2|0;break}}else e===98&&(c=3,d=d+2|0);else if(e!==66){if(e>=79)switch(e){case 79:c=0;d=d+2|0;break;case 85:d=d+2|0;break;case 80:case 81:case 82:case 83:case 84:case 86:case 87:break;case 88:c=1;d=d+2|0;break}}else c=3,d=d+2|0}return[d,b,c]}function a(a){var b=k(a),c=b[0],d=j(b[2]),e=4294967295,f=a.length,g=c<f?a.charCodeAt(c):0;g=i(g);if(g<0||g>=d)throw{RE_EXN_ID:"Failure",_1:"int_of_string",Error:new Error()};var h=function(b,c){while(!0){var g=c,h=b;if(g===f)return h;var j=a.charCodeAt(g);if(j===95){c=g+1|0;continue}j=i(j);if(j<0||j>=d)throw{RE_EXN_ID:"Failure",_1:"int_of_string",Error:new Error()};h=d*h+j;if(h>e)throw{RE_EXN_ID:"Failure",_1:"int_of_string",Error:new Error()};c=g+1|0;b=h;continue}};b=b[1]*h(g,c+1|0);h=b|0;if(d===10&&b!==h)throw{RE_EXN_ID:"Failure",_1:"int_of_string",Error:new Error()};return h}function c(a){var c=k(a),d=c[2],e=c[0],f=(g||(g=b("bs_caml_int64"))).of_int32(j(d));c=g.of_int32(c[1]);var l;switch(d){case 0:l=[536870911,4294967295];break;case 1:l=[268435455,4294967295];break;case 2:l=[429496729,2576980377];break;case 3:l=(g||(g=b("bs_caml_int64"))).max_int;break}var m=a.length;d=e<m?a.charCodeAt(e):0;d=g.of_int32(i(d));if((h||(h=b("bs_caml"))).i64_lt(d,(g||(g=b("bs_caml_int64"))).zero)||(h||(h=b("bs_caml"))).i64_ge(d,f))throw{RE_EXN_ID:"Failure",_1:"int64_of_string",Error:new Error()};var n=function(c,d){while(!0){var e=d,j=c;if(e===m)return j;var k=a.charCodeAt(e);if(k===95){d=e+1|0;continue}k=(g||(g=b("bs_caml_int64"))).of_int32(i(k));if((h||(h=b("bs_caml"))).i64_lt(k,(g||(g=b("bs_caml_int64"))).zero)||(h||(h=b("bs_caml"))).i64_ge(k,f)||(h||(h=b("bs_caml"))).i64_gt(j,l))throw{RE_EXN_ID:"Failure",_1:"int64_of_string",Error:new Error()};j=g.add(g.mul(f,j),k);d=e+1|0;c=j;continue}};c=g.mul(c,n(d,e+1|0));n=g.or_(c,g.zero);if((h||(h=b("bs_caml"))).i64_eq(f,[0,10])&&(h||(h=b("bs_caml"))).i64_neq(c,n))throw{RE_EXN_ID:"Failure",_1:"int64_of_string",Error:new Error()};return n}function l(a){switch(a){case 0:return 8;case 1:return 16;case 2:return 10}}function m(a){if(a>=65&&a<=90||a>=192&&a<=214||a>=216&&a<=222)return a+32|0;else return a}function n(a){var b=a.length;if(b>31)throw{RE_EXN_ID:"Invalid_argument",_1:"format_int: format too long",Error:new Error()};var c={justify:"+",signstyle:"-",filter:" ",alternate:!1,base:2,signedconv:!1,width:0,uppercase:!1,sign:1,prec:-1,conv:"f"},d=0;while(!0){var e=d;if(e>=b)return c;var f=a.charCodeAt(e),g=0;if(f>=69)if(f>=88)if(f>=121)g=1;else switch(f){case 88:c.base=1;c.uppercase=!0;d=e+1|0;continue;case 101:case 102:case 103:g=5;break;case 100:case 105:g=4;break;case 111:c.base=0;d=e+1|0;continue;case 117:c.base=2;d=e+1|0;continue;case 89:case 90:case 91:case 92:case 93:case 94:case 95:case 96:case 97:case 98:case 99:case 104:case 106:case 107:case 108:case 109:case 110:case 112:case 113:case 114:case 115:case 116:case 118:case 119:g=1;break;case 120:c.base=1;d=e+1|0;continue}else if(f>=72)g=1;else{c.signedconv=!0;c.uppercase=!0;c.conv=String.fromCharCode(m(f));d=e+1|0;continue}else switch(f){case 35:c.alternate=!0;d=e+1|0;continue;case 32:case 43:g=2;break;case 45:c.justify="-";d=e+1|0;continue;case 46:c.prec=0;var h=e+1|0;while(function(b){return function(){var c=a.charCodeAt(b)-48|0;return c>=0&&c<=9}}(h)())c.prec=(Math.imul(c.prec,10)+a.charCodeAt(h)|0)-48|0,h=h+1|0;d=h;continue;case 33:case 34:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 44:case 47:g=1;break;case 48:c.filter="0";d=e+1|0;continue;case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:g=3;break;default:g=1}switch(g){case 1:d=e+1|0;continue;case 2:c.signstyle=String.fromCharCode(f);d=e+1|0;continue;case 3:c.width=0;h=e;while(function(b){return function(){var c=a.charCodeAt(b)-48|0;return c>=0&&c<=9}}(h)())c.width=(Math.imul(c.width,10)+a.charCodeAt(h)|0)-48|0,h=h+1|0;d=h;continue;case 4:c.signedconv=!0;c.base=2;d=e+1|0;continue;case 5:c.signedconv=!0;c.conv=String.fromCharCode(f);d=e+1|0;continue}}}function o(a,b){var c=a.justify,d=a.signstyle,e=a.filter,f=a.alternate,g=a.base,h=a.signedconv,i=a.width,j=a.uppercase;a=a.sign;var k=b.length;h&&(a<0||d!=="-")&&(k=k+1|0);f&&(g===0?k=k+1|0:g===1&&(k=k+2|0));var l="";if(c==="+"&&e===" ")for(var m=k;m<i;++m)l=l+e;h&&(a<0?l=l+"-":d!=="-"&&(l=l+d));f&&g===0&&(l=l+"0");f&&g===1&&(l=l+"0x");if(c==="+"&&e==="0")for(m=k;m<i;++m)l=l+e;l=j?l+b.toUpperCase():l+b;if(c==="-")for(h=k;h<i;++h)l=l+" ";return l}function d(a,b){if(a==="%d")return String(b);a=n(a);b=b<0?a.signedconv?(a.sign=-1,-b>>>0):b>>>0:b;b=b.toString(l(a.base));if(a.prec>=0){a.filter=" ";var c=a.prec-b.length|0;c>0&&(b="0".repeat(c)+b)}return o(a,b)}function p(a){if(!(h||(h=b("bs_caml"))).i64_lt(a,(g||(g=b("bs_caml_int64"))).zero))return(g||(g=b("bs_caml_int64"))).to_string(a);var c=[0,10];a=(g||(g=b("bs_caml_int64"))).discard_sign(a);a=g.div_mod(a,c);c=g.div_mod(g.add([0,8],a[1]),c);a=g.add(g.add([214748364,3435973836],a[0]),c[0]);return g.to_string(a)+"0123456789"[g.to_int32(c[1])]}function q(a){var c="",d=[0,8],e="01234567";if((h||(h=b("bs_caml"))).i64_lt(a,(g||(g=b("bs_caml_int64"))).zero)){var f=(g||(g=b("bs_caml_int64"))).discard_sign(a);f=g.div_mod(f,d);var i=g.add([268435456,0],f[0]);f=f[1];c=e[g.to_int32(f)]+c;while((h||(h=b("bs_caml"))).i64_neq(i,(g||(g=b("bs_caml_int64"))).zero)){var j=(g||(g=b("bs_caml_int64"))).div_mod(i,d);i=j[0];f=j[1];c=e[g.to_int32(f)]+c}}else{j=(g||(g=b("bs_caml_int64"))).div_mod(a,d);f=j[0];i=j[1];c=e[g.to_int32(i)]+c;while((h||(h=b("bs_caml"))).i64_neq(f,(g||(g=b("bs_caml_int64"))).zero)){a=(g||(g=b("bs_caml_int64"))).div_mod(f,d);f=a[0];i=a[1];c=e[g.to_int32(i)]+c}}return c}function e(a,c){if(a==="%d")return(g||(g=b("bs_caml_int64"))).to_string(c);a=n(a);c=a.signedconv&&(h||(h=b("bs_caml"))).i64_lt(c,(g||(g=b("bs_caml_int64"))).zero)?(a.sign=-1,(g||(g=b("bs_caml_int64"))).neg(c)):c;var d=a.base,e;switch(d){case 0:e=q(c);break;case 1:e=(g||(g=b("bs_caml_int64"))).to_hex(c);break;case 2:e=p(c);break}if(a.prec>=0){a.filter=" ";d=a.prec-e.length|0;c=d>0?"0".repeat(d)+e:e}else c=e;return o(a,c)}function r(a,b){a=n(a);var c=a.prec<0?6:a.prec,d=b<0?(a.sign=-1,-b):b;b="";if(isNaN(d))b="nan",a.filter=" ";else if(isFinite(d)){var e=a.conv;switch(e){case"e":b=d.toExponential(c);e=b.length;b[e-3|0]==="e"&&(b=b.slice(0,e-1|0)+("0"+b.slice(e-1|0)));break;case"f":b=d.toFixed(c);break;case"g":var f=c!==0?c:1;b=d.toExponential(f-1|0);e=b.indexOf("e");c=Number(b.slice(e+1|0))|0;if(c<-4||d>=1e21||d.toFixed().length>f){var g=e-1|0;while(b[g]==="0")g=g-1|0;b[g]==="."&&(g=g-1|0);b=b.slice(0,g+1|0)+b.slice(e);g=b.length;b[g-3|0]==="e"&&(b=b.slice(0,g-1|0)+("0"+b.slice(g-1|0)))}else{var h=f;if(c<0)h=h-(c+1|0)|0,b=d.toFixed(h);else while(function(){b=d.toFixed(h);return b.length>(f+1|0)}())h=h-1|0;if(h!==0){e=b.length-1|0;while(b[e]==="0")e=e-1|0;b[e]==="."&&(e=e-1|0);b=b.slice(0,e+1|0)}}break;default:}}else b="inf",a.filter=" ";return o(a,b)}var s=function(a,b,c){if(!isFinite(a))return isNaN(a)?"nan":a>0?"infinity":"-infinity";var d=a==0&&1/a==-Infinity?1:a>=0?0:1;d&&(a=-a);var e=0;if(!(a==0))if(a<1)while(a<1&&e>-1022)a*=2,e--;else while(a>=2)a/=2,e++;var f=e<0?"":"+",g="";if(d)g="-";else switch(c){case 43:g="+";break;case 32:g=" ";break;default:break}if(b>=0&&b<13){d=Math.pow(2,b*4);a=Math.round(a*d)/d}c=a.toString(16);if(b>=0){d=c.indexOf(".");if(d<0)c+="."+"0".repeat(b);else{a=d+1+b;c.length<a?c+="0".repeat(a-c.length):c=c.substr(0,a)}}return g+"0x"+c+"p"+f+e.toString(10)},t=function(a,b){var c=+a;if(a.length>0&&c===c)return c;a=a.replace(/_/g,"");c=+a;if(a.length>0&&c===c||/^[+-]?nan$/i.test(a))return c;var d=/^ *([+-]?)0x([0-9a-f]+)\.?([0-9a-f]*)p([+-]?[0-9]+)/i.exec(a);if(d){var e=d[3].replace(/0+$/,""),f=parseInt(d[1]+d[2]+e,16);d=(d[4]|0)-4*e.length;c=f*Math.pow(2,d);return c}if(/^\+?inf(inity)?$/i.test(a))return Infinity;if(/^-inf(inity)?$/i.test(a))return-Infinity;throw b};function u(a){return t(a,{RE_EXN_ID:"Failure",_1:"float_of_string"})}var v=d,w=d,x=a,y=a;f.caml_format_float=r;f.caml_hexstring_of_float=s;f.caml_format_int=d;f.caml_nativeint_format=v;f.caml_int32_format=w;f.caml_float_of_string=u;f.caml_int64_format=e;f.caml_int_of_string=a;f.caml_int32_of_string=x;f.caml_int64_of_string=c;f.caml_nativeint_of_string=y}),null);
__d("bs_caml_exceptions",[],(function(a,b,c,d,e,f){"use strict";var g={contents:0};function a(a){g.contents=g.contents+1|0;return a+("/"+g.contents)}function b(a){if(a==null)return!1;else return typeof a.RE_EXN_ID==="string"}function c(a){return a.RE_EXN_ID}f.id=g;f.create=a;f.caml_is_extension=b;f.caml_exn_slot_name=c}),null);
__d("bs_caml_option",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a.BS_PRIVATE_NESTED_SOME_NONE!==void 0}function g(a){if(a===void 0)return{BS_PRIVATE_NESTED_SOME_NONE:0};else if(a!==null&&a.BS_PRIVATE_NESTED_SOME_NONE!==void 0)return{BS_PRIVATE_NESTED_SOME_NONE:a.BS_PRIVATE_NESTED_SOME_NONE+1|0};else return a}function b(a){if(a==null)return;else return g(a)}function c(a){if(a===void 0)return;else return g(a)}function d(a){if(a===null)return;else return g(a)}function h(a){if(!(a!==null&&a.BS_PRIVATE_NESTED_SOME_NONE!==void 0))return a;a=a.BS_PRIVATE_NESTED_SOME_NONE;if(a===0)return;else return{BS_PRIVATE_NESTED_SOME_NONE:a-1|0}}function e(a){if(a===void 0)return;else return h(a)}function i(a){if(a!==void 0)return a.VAL;else return a}f.nullable_to_opt=b;f.undefined_to_opt=c;f.null_to_opt=d;f.valFromOption=h;f.some=g;f.isNested=a;f.option_get=e;f.option_unwrap=i}),null);
__d("bs_caml_js_exceptions",["bs_caml_exceptions","bs_caml_option"],(function(a,b,c,d,e,f){"use strict";var g=b("bs_caml_exceptions").create("Caml_js_exceptions.Error");function a(a){if(b("bs_caml_exceptions").caml_is_extension(a))return a;else return{RE_EXN_ID:g,_1:a}}function c(a){if(a.RE_EXN_ID===g)return b("bs_caml_option").some(a._1)}f.$$Error=g;f.internalToOCamlException=a;f.caml_as_js_exn=c}),null);
__d("bs_int64",["bs_caml","bs_caml_format","bs_caml_int64","bs_caml_js_exceptions"],(function(a,b,c,d,e,f){"use strict";var g,h;function a(a){return(g||(g=b("bs_caml_int64"))).sub(a,g.one)}function c(a){if((h||(h=b("bs_caml"))).i64_ge(a,(g||(g=b("bs_caml_int64"))).zero))return a;else return(g||(g=b("bs_caml_int64"))).neg(a)}function d(a){return(g||(g=b("bs_caml_int64"))).xor(a,g.neg_one)}function e(a){try{return b("bs_caml_format").caml_int64_of_string(a)}catch(c){a=b("bs_caml_js_exceptions").internalToOCamlException(c);if(a.RE_EXN_ID==="Failure")return;throw a}}var i=(g||(g=b("bs_caml_int64"))).compare;function j(a,c){return(g||(g=b("bs_caml_int64"))).compare(a,c)===0}var k=g.zero,l=g.one,m=g.neg_one,n=g.succ,o=g.max_int,p=g.min_int,q=g.to_string;f.zero=k;f.one=l;f.minus_one=m;f.succ=n;f.pred=a;f.abs=c;f.max_int=o;f.min_int=p;f.lognot=d;f.of_string_opt=e;f.to_string=q;f.compare=i;f.equal=j}),null);
__d("I64",["bs_caml","bs_caml_format","bs_caml_int64","bs_int64","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){return function(){var b=a.apply(void 0,arguments);b._tag="i64";return b}}function b(a){return function(){var b=a.apply(void 0,arguments);b!=null&&(b._tag="i64");return b}}f=a((h||(h=c("bs_caml_int64"))).mk);var j=a(h.succ),k=a(function(){return(h||(h=c("bs_caml_int64"))).min_int})(),l=a(function(){return(h||(h=c("bs_caml_int64"))).max_int})(),m=a(function(){return(h||(h=c("bs_caml_int64"))).one})(),n=a(function(){return(h||(h=c("bs_caml_int64"))).zero})(),o=a(function(){return(h||(h=c("bs_caml_int64"))).neg_one})(),p=a(h.of_int32),q=a(h.add),r=a(h.neg),s=a(h.sub),t=a(h.lsl_),u=a(h.lsr_),v=a(h.asr_),w=a(h.mul),x=a(h.xor),y=a(h.or_),z=a(h.and_),A=a(h.of_float),B=a(h.div),C=a(h.mod_),D=a(function(){return c("bs_int64").minus_one})(),E=a(c("bs_int64").abs),F=a(c("bs_int64").lognot);b=b(c("bs_int64").of_string_opt);var G,H;if(typeof BigInt==="function"){var I=BigInt(32),J=BigInt(4294967295);G=function(a){return BigInt.asIntN(64,(BigInt(a[0])<<I)+BigInt(a[1])).toString()};H=function(a){a=BigInt.asIntN(64,BigInt(a));a=[Number(a>>I),Number(a&J)];a._tag="i64";return a}}else G=(h||(h=c("bs_caml_int64"))).to_string,H=a(c("bs_caml_format").caml_int64_of_string);G=G;H=H;var K=a((i||(i=c("bs_caml"))).i64_max);a=a(i.i64_min);function L(a){if(Array.isArray(a)&&a.length===2){var b=a[0];a=a[1];if(typeof b==="number"&&Number.isInteger(b)&&typeof a==="number"&&Number.isInteger(a)){b=[b,a];b._tag="i64";return b}}return void 0}function d(a){return c("nullthrows")(L(a))}function e(a){return(a==null?void 0:a._tag)==="i64"}g.mk=f;g.succ=j;g.min_int=k;g.max_int=l;g.one=m;g.zero=n;g.neg_one=o;g.of_int32=p;g.to_int32=h.to_int32;g.add=q;g.neg=r;g.sub=s;g.lsl_=t;g.lsr_=u;g.asr_=v;g.is_zero=h.is_zero;g.mul=w;g.xor=x;g.or_=y;g.and_=z;g.to_float=h.to_float;g.of_float=A;g.div=B;g.mod_=C;g.compare=h.compare;g.minus_one=D;g.abs=E;g.lognot=F;g.of_string_opt=b;g.equal=c("bs_int64").equal;g.to_string=G;g.of_string=H;g.gt=i.i64_gt;g.ge=i.i64_ge;g.lt=i.i64_lt;g.le=i.i64_le;g.max=K;g.min=a;g.cast=L;g.castExn=d;g.isI64=e}),98);
__d("IGDWebUtils",["CurrentUserInitialData"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a){return a!=null?a===1217981644879628||a===936619743392459||a===487152425211411||a===1035956773910536:!1}function a(){return i(Number((h||(h=c("CurrentUserInitialData"))).APP_ID))}g.isInstagramWebSupportedApp=i;g.isOnInstagramWeb=a}),98);
__d("LSBitFlag",["I64"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){return(h||(h=d("I64"))).equal(h.and_(b,a),a)}function b(a,b){return(h||(h=d("I64"))).or_(b,a)}function c(a,b){return(h||(h=d("I64"))).and_(b,h.lognot(a))}g.has=a;g.set=b;g.clear=c;g.empty=(h||(h=d("I64"))).zero}),98);
__d("LSIntEnum",["I64"],(function(a,b,c,d,e,f,g){"use strict";var h,i=new Map();function a(a){var b=i.get(a);if(b!=null)return b;b=(h||(h=d("I64"))).of_float(a);i.set(a,b);return b}function b(a){return(h||(h=d("I64"))).to_float(a)}function c(a){return(h||(h=d("I64"))).to_float(a)}g.ofNumber=a;g.toNumber=b;g.unwrapIntEnum=c}),98);
__d("LSMessageThreadUnsendabilityStatus",[],(function(a,b,c,d,e,f){a=Object.freeze({CAN_UNSEND:0,DENY_FOR_SPECIFIC_IDS:1,DENY_IF_THREAD_CONTAINS_PAU:2,DENY_IF_THREAD_CONTAINS_WORK_USER:3,DENY_IF_PAGE_THREAD:4,DENY_IF_MARKETPLACE_THREAD:5,DENY_IF_CANNOT_LOAD_THREAD:6,DENY_IF_THREAD_CONTAINS_WORK_USER_FAILING_KILLSWITCH:7,DENY_IF_CANONICAL_THREAD_CONTAINS_BLOCKED_USERS:8,DENY_IF_CANNOT_REPLY_TO_VIEWER_THREAD:9,DENY_IF_UNCONNECTED_THREAD:10});f["default"]=a}),66);
__d("isUnjoinedCMThread",["I64","LSIntEnum"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){return(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(19))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(24))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(22))}g.isUnjoinedCMThread=a}),98);
__d("LSThreadBitOffset",["FBLogger","I64","LSBitFlag","isUnjoinedCMThread"],(function(a,b,c,d,e,f,g){"use strict";var h;f=["capabilities","capabilities2","capabilities3","capabilities4"];var i=4,j=i*64;function a(a,b){if(d("isUnjoinedCMThread").isUnjoinedCMThread(b.threadType))return!1;if(a>=j){c("FBLogger")("LSThreadBitOffset","out_of_bounds_bit_offset").mustfix("Invalid bitOffset; expected a value between 0 and %d but found %s instead",j-1,a);return!1}if(a>=192)return d("LSBitFlag").has((h||(h=d("I64"))).lsl_(h.one,a-192),b.capabilities4);if(a>=128)return d("LSBitFlag").has((h||(h=d("I64"))).lsl_(h.one,a-128),b.capabilities3);return a>=64?d("LSBitFlag").has((h||(h=d("I64"))).lsl_(h.one,a-64),b.capabilities2):d("LSBitFlag").has((h||(h=d("I64"))).lsl_(h.one,a),b.capabilities)}function b(a,b,c,e,f){return a.reduce(function(a,b){var c=a[0],e=a[1],f=a[2];a=a[3];if(b>=192)return[c,e,f,d("LSBitFlag").set((h||(h=d("I64"))).lsl_(h.one,b-192),a)];if(b>=128)return[c,e,d("LSBitFlag").set((h||(h=d("I64"))).lsl_(h.one,b-128),f),a];return b>=64?[c,d("LSBitFlag").set((h||(h=d("I64"))).lsl_(h.one,b-64),e),f,a]:[d("LSBitFlag").set((h||(h=d("I64"))).lsl_(h.one,b),c),e,f,a]},[b,c,e,f])}function e(a,b,c,e,f){return a.reduce(function(a,b){var c=a[0],e=a[1],f=a[2];a=a[3];if(b>=192)return[c,e,f,d("LSBitFlag").clear((h||(h=d("I64"))).lsl_(h.one,b-192),a)];if(b>=128)return[c,e,d("LSBitFlag").clear((h||(h=d("I64"))).lsl_(h.one,b-128),f),a];return b>=64?[c,d("LSBitFlag").clear((h||(h=d("I64"))).lsl_(h.one,b-64),e),f,a]:[d("LSBitFlag").clear((h||(h=d("I64"))).lsl_(h.one,b),c),e,f,a]},[b,c,e,f])}g.threadCapabilityFields=f;g.MAX_SUPPORTED_THREAD_CAPABILITY=i;g.has=a;g.set=b;g.clear=e;g.empty=(h||(h=d("I64"))).zero}),98);
__d("MWCMIsAnyCMThread",["I64","LSIntEnum"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){if((h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(18))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(19))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(23))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(24))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(21)))return!0;else return(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(22))}g["default"]=a}),98);
__d("MessagingThreadSubtype",[],(function(a,b,c,d,e,f){a=Object.freeze({ADMIN_MODEL_V2_THREAD:1,FB_GROUP_CHAT:2,MARKETPLACE_THREAD:3,SCHOOL_CHAT:4,DEPRECATED__WORK_SYNCED_CHAT:5,ADMIN_NOT_SUPPORTED_THREAD:6,BELL_SYNCED_CHAT:7,GAMES_APP_THREAD:8,VAULT_CHAT:9,VERSE_CHAT:10,GENERIC_COMMERCE_THREAD:11,USER_JOB_THREAD:12,COWORKER_GROUP_THREAD:13,APPROVAL_ENFORCED_CHATROOM_THREAD:14,PARENT_APPROVED_SHEPHERD_MANAGED_THREAD:15,CAMPUS_GROUP_THREAD:16,LOCAL_COMMUNITIES_THREAD:17,CHAT_FOR_ROOM_THREAD:18,GAMING_PLAY_SQUAD:19,CHAT_FOR_GROUP_ADMIN_TO_MEMBER_THREAD:20,EITM_BACKED_IG_1TO1_THREAD:21,LEARNING_SPACE:23,E2EE_GROUP_THREAD_METADATA:24,IGD_BC_PARTNERSHIP:25,E2EE_1TO1_THREAD_METADATA:26,JOBS_CAREER_GROUP_THREAD:27,IG_CREATOR_SUBSCRIBER_GROUP_THREAD:28,IG_CREATOR_SUBSCRIBER_BROADCAST_CHAT:29,BUSINESS_SUPPORT_THREAD:30,TAGGED_PII_DATA:31,IG_DISCOVERABLE_CHAT_THREAD:32,SUPPORT_MESSAGING_THREAD:33,DISCOVERABLE_PUBLIC_CHAT:34,DISCOVERABLE_PUBLIC_BROADCAST_CHAT:35,DISCOVERABLE_PUBLIC_CHAT_V2:36,IG_DISCOVERABLE_CHAT_THREAD_V2:37,OCULUS_MEDIA_MESSAGING:38,WORK_CHAT_THREAD_CENTRIC:39,COMMUNITY_MESSAGING_PUBLIC_THREAD:40,COMMUNITY_MESSAGING_PRIVATE_THREAD:41,COMMUNITY_MESSAGING_ADMOD_THREAD:42,COMMUNITY_MESSAGING_BROADCAST_THREAD:43,IG_E2EE_GROUP_THREAD_METADATA:44,IG_NFT_BROADCAST_CHAT:45,STANDALONE_COMMUNITY_STANDARD_THREAD:46,IGD_GROUP:47,WORKCHAT_GROUP_THREAD:48,WORKROOM_GROUP_THREAD:49,OCULUS_GROUP_THREAD:50,INTEROP_GROUP:51,IG_BTV_E2EE_1TO1_THREAD_METADATA:52,COMMUNITY_MESSAGING_HELPER_BOT_THREAD:53,COMMUNITY_MESSAGING_SUB_THREAD:54,IG_GROUP_PROFILES:55,IG_PRIVATE_EVENT:56,WA_GENAI_BOT_MAILBOX_THREAD:57,MESSENGER_GENAI_BOT_MAILBOX_THREAD:58,IG_GENAI_BOT_MAILBOX_THREAD:59,E2EE_COMMUNITY_CHAT_METADATA:60,IG_SUBSCRIBER_SOCIAL_CHANNEL:61,IG_SOCIAL_CHANNEL:62,GENERIC_GENAI_BOT_MAILBOX_THREAD:63,GENAI_IMAGINE:64,FB_GENAI_BOT_MAILBOX_THREAD:65,ABRA_GENAI_BOT_MAILBOX_THREAD:66,GENAI_STUDIO_BOT_MAILBOX_THREAD:67,SHOPS_AI_ASSISTANT_THREAD:68,ONE_TO_ONE:1001,PARENT_APPROVED_ONE_TO_ONE:1002,IG_ONLY_ONE_TO_ONE:1003,INTEROP_ONE_TO_ONE:1004,WHATSAPP_ONE_TO_ONE:1005,WORKCHAT_ONE_TO_ONE:1006,OC_PROXY_ONE_TO_ONE:1007,MARKETPLACE_ASSISTANT_ONE_TO_ONE:1008,PAGE_TO_USER:1009,PAGE_TO_PAGE:1010,MESSENGER_AI_BOT_ONE_TO_ONE:1011,IG_AI_BOT_ONE_TO_ONE:1012,IG_CREATOR_AGENT_SANDBOX:1013,IG_USER_GENERATED_AI_BOT_ONE_TO_ONE:1014,MSGR_USER_GENERATED_AI_BOT_ONE_TO_ONE:1015,OCULUS:2001});f["default"]=a}),66);
__d("LSMessagingThreadTypeUtil",["I64","LSIntEnum","LSMessageThreadUnsendabilityStatus","LSThreadBitOffset","MWCMIsAnyCMThread","MessagingThreadSubtype","MetaConfig","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){return(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(2))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(8))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(16))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(5))||c("MWCMIsAnyCMThread")(a)||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(3))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(150))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(151))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(154))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(155))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(152))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(153))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(26))}function j(a){return(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(1))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(7))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(10))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(13))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(201))}function b(a){return j(a)||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(15))}function k(a){return(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(15))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(16))}function e(a){return(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(15))}function f(a){return(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(15))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(16))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(1))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(201))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(2))}function l(a){return a==="e2ee_cutover"||a==="inbox"}function m(a,b){b===void 0&&(b=!0);return!b&&(h||(h=d("I64"))).equal(a.parentThreadKey,(i||(i=d("LSIntEnum"))).ofNumber(0))?!1:d("LSThreadBitOffset").has(21,a)}function n(a){return a!=null&&(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingThreadSubtype").IGD_BC_PARTNERSHIP))}function o(a){return m(a,!1)}function p(a){return(h||(h=d("I64"))).equal(a.parentThreadKey,(i||(i=d("LSIntEnum"))).ofNumber(-3))}function q(a){return a==null?!1:(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingThreadSubtype").BUSINESS_SUPPORT_THREAD))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingThreadSubtype").SUPPORT_MESSAGING_THREAD))}function r(a){return(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(2))}function s(a){var b=(h||(h=d("I64"))).equal(a.threadType,(i||(i=d("LSIntEnum"))).ofNumber(2)),c=(h||(h=d("I64"))).equal(a.threadType,(i||(i=d("LSIntEnum"))).ofNumber(1))&&!N(a);return!q(a.threadSubtype)&&(b||c)}function t(a){return s(a)||k(a.threadType)}function u(a){return a==null?!1:(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingThreadSubtype").PAGE_TO_USER))}function v(a){return(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(150))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(154))&&c("MetaConfig")._("36")}function w(a){return(y(a)||z(a))&&c("MetaConfig")._("32")}function x(a){return(y(a)||z(a))&&!c("MetaConfig")._("32")}function y(a){return(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(152))}function z(a){return(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(153))}function A(a){return((h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(155))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(154)))&&c("MetaConfig")._("36")}function B(a){return(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(154))&&c("MetaConfig")._("36")}function C(a){return a==null?!1:(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(150))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(154))}function D(a){return C(a)||w(a)}function E(a){return(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(26))}function F(a){return(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(17))}function G(a){return(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(19))}function H(a){return a==null?!1:(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(151))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(155))}function I(a){return a==null?!1:H(a)||z(a)}function J(a){return a==null?!1:(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(201))}function K(a){return d("LSThreadBitOffset").has(183,a)}function L(a){return k(a)||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(1))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(2))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(3))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(4))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(5))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(6))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(10))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(11))}function M(a){return D(a)||H(a)||z(a)||c("MWCMIsAnyCMThread")(a)||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(17))||E(a)}function N(a){return(h||(h=d("I64"))).equal(a.threadType,(i||(i=d("LSIntEnum"))).ofNumber(1))&&a.cannotUnsendReason!=null&&(h||(h=d("I64"))).equal(a.cannotUnsendReason,(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessageThreadUnsendabilityStatus").DENY_IF_PAGE_THREAD))}function O(a){return a!=null&&((h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingThreadSubtype").WORKCHAT_GROUP_THREAD))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingThreadSubtype").WORKROOM_GROUP_THREAD))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingThreadSubtype").WORKCHAT_ONE_TO_ONE)))}function P(a){if(j(a))return(i||(i=d("LSIntEnum"))).ofNumber(15);if(r(a))return(i||(i=d("LSIntEnum"))).ofNumber(16);throw c("unrecoverableViolation")("Expected either open 1:1 or open group thread","messenger_web_product")}g.isGroup=a;g.isOpenOneToOne=j;g.isOneToOne=b;g.isArmadilloSecure=k;g.isArmadilloSecureOneToOne=e;g.isRecentsSectionAllowedTypes=f;g.isMessengerOrE2EEInbox=l;g.isMessageRequest=m;g.isPartnership=n;g.isIGDMessageRequest=o;g.isHiddenRequest=p;g.isBusinessSupportThread=q;g.isOpenGroupFnFThread=r;g.isOpenFnFThread=s;g.isOpenOrArmadilloFnFThread=t;g.isPageToUserThread=u;g.isJoinedSocialChannel=v;g.isDiscoverablePublicBroadcastChannel=w;g.isDiscoverablePublicBroadcastChannelWithNoAccessibility=x;g.isJoinedDiscoverablePublicBroadcastChannel=y;g.isUnjoinedDiscoverablePublicBroadcastChannel=z;g.isSocialChannelV2=A;g.isJoinedSocialChannelV2=B;g.isSocialChannel=C;g.isDiscoverableChannel=D;g.isCMSubthread=E;g.isCMFolder=F;g.isCMGroupUnjoined=G;g.isSocialChannelUnjoined=H;g.isChannelPreview=I;g.isAiBot=J;g.isAiBotSummoning=K;g.isPrivateThread=L;g.isPublicCMThread=M;g.isThreadForPage=N;g.isWorkThread=O;g.mapOpenToSecureThreadType=P}),98);
__d("LSThreadAttributionStore",["I64"],(function(a,b,c,d,e,f,g){"use strict";var h,i=new Map();function a(a,b){var c;a=(c=(c=i.get(b))!=null?c:a)!=null?c:{type:"MWLSEntrypoint",value:"unknown"};i["delete"](b);return a}function b(a,b){i.set(a,{type:"MWLSEntrypoint",value:b})}function c(a,b){b=(h||(h=d("I64"))).of_string(b);i.set(a,{type:"LSThreadAttribution",value:b})}function e(a){i.set("",{type:"MWLSEntrypoint",value:a})}function f(){var a=i.get("");if(a==null||a.type==="LSThreadAttribution")return"unknown";else return a.value}g.getSource=a;g.setSource=b;g.setLSMessagingThreadAttribution=c;g.setSourceForNewThread=e;g.getSourceForNewThread=f}),98);
__d("MAWCurrentUser",["CurrentUserInitialData","FBLogger","IGDWebUtils","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(){var a=Number(i());if(a===772021112871879||a===2220391788200892||a===256281040558)return k();else if(d("IGDWebUtils").isInstagramWebSupportedApp(a))return j();return k()}function i(){return(h||(h=d("CurrentUserInitialData"))).APP_ID}function b(){return c("gkx")("24028")}function e(){return!!(h||(h=d("CurrentUserInitialData"))).IS_EMPLOYEE}function j(){var a;((a=(h||(h=d("CurrentUserInitialData"))).IG_USER_EIMU)!=null?a:"0")==="0"&&c("FBLogger")("messenger_e2ee_web").warn("EIMU is null");return(a=(h||(h=d("CurrentUserInitialData"))).IG_USER_EIMU)!=null?a:"0"}function k(){if((h||(h=d("CurrentUserInitialData"))).USER_ID==="0"){var a=i();c("FBLogger")("messenger_e2ee_web").warn("FBID is null with appId %s",a)}return(h||(h=d("CurrentUserInitialData"))).USER_ID}g.getID=a;g.getAppID=i;g.isTlcPublicUser=b;g.isEmployee=e}),98);
__d("MAWEBSwitch",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1=!0}var b=a.prototype;b.set=function(a){this.$1=a;return this.$1};b.isEnabled=function(){return this.$1};return a}();b=new a();c=b;f["default"]=c}),66);
__d("MWChatMessagesOnChatTabLoadTracker",["I64"],(function(a,b,c,d,e,f,g){"use strict";var h,i={},j={};function a(a){return function(b){var c=(h||(h=d("I64"))).to_string(b);c in a||(a[(h||(h=d("I64"))).to_string(b)]=0);a[h.to_string(b)]++}}f=a(i);a=a(j);function b(a){return i[a]||0}function c(a){return j[a]||0}function e(a){delete i[a],delete j[a]}g.trackSendFor=f;g.trackReceivedFor=a;g.getMessageSendsCountFor=b;g.getMessageReceivesCountFor=c;g.clearMessageCountsFor=e}),98);
__d("MWChatStateV2IsOpen",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){a===void 0&&(a=void 0);return b.openWatermark>Math.max.apply(Math,[b.closeWatermark,b.minimizeWatermark,b.clientForcedMinimizeWatermark].concat(typeof a==="number"?a:[]))}f.isOpen=a}),66);
__d("MessengerWebEventsFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("230");b=d("FalcoLoggerInternal").create("messenger_web_events",a);e=b;g["default"]=e}),98);
__d("MWChatStateV2Logging",["MessengerWebEventsFalcoEvent","react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useRef;function a(a){var b=j(a);i(function(){var a=Array.from(b.current.tabs.values()),d=function(a){return a.openWatermark>Math.max(a.closeWatermark,a.minimizeWatermark,a.clientForcedMinimizeWatermark)},e=a.filter(d);e.length>0&&c("MessengerWebEventsFalcoEvent").log(function(){return{event_name:"load_tab_from_cookie",extra_data:{tabNumber:String(e.length)}}})},[b])}g.useCookieLiftLogging=a}),98);
__d("MWThreadListNewMessageState.react",["react","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));d=h;var j=d.createContext,k=d.useContext,l=d.useReducer;d={Reset:0,ResetIfEmpty:1};var m={SetIsActive:2},n={SetEntries:3},o=babelHelpers["extends"]({},d,m,n),p={entries:[],isActive:!1},q=j(p),r=j();function s(a,b){switch(b.type){case o.Reset:return p;case o.ResetIfEmpty:return a.entries.length===0?p:a;case o.SetIsActive:return babelHelpers["extends"]({},a,{isActive:b.isActive});case o.SetEntries:return babelHelpers["extends"]({},a,{entries:b.entries});default:return a}}function a(a){var b=a.children;a=a.defaultState;a=a===void 0?p:a;a=l(s,a);var c=a[0];a=a[1];var d=q.Provider,e=r.Provider;return i.jsx(d,{value:c,children:i.jsx(e,{value:a,children:b})})}a.displayName=a.name+" [from "+f.id+"]";function b(){var a=k(r);if(a==null)throw c("unrecoverableViolation")("Tried to get the dispatch function for MWThreadListNewMessageState but none was found. Missing provider (MWThreadListNewMessageState)","messenger_web_messaging");return a}function e(){var a=k(r);if(a==null)return;return a}g.MWThreadListNewMessageStateActionType=o;g.context=q;g.MWThreadListNewMessageStateProvider=a;g.useDispatch=b;g.useDispatchIfStateExists=e}),98);
__d("MWV2CookieReader",["I64","LSIntEnum","MWChatStateV2Types","gkx","killswitch","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j={cbj:(h||(h=d("LSIntEnum"))).ofNumber(23),cbu:h.ofNumber(24),cg:h.ofNumber(18),cgu:h.ofNumber(19),cphj:h.ofNumber(21),cphu:h.ofNumber(22),dp:h.ofNumber(150),dp2:h.ofNumber(154),dp2u:h.ofNumber(155),dpb:h.ofNumber(152),dpbu:h.ofNumber(153),dpu:h.ofNumber(151),g:h.ofNumber(2),sc:h.ofNumber(15),sg:h.ofNumber(16)};function k(a){a=a.split(".");if(a.length!==2)return;var b=a[0];a=a[1];if(/^-?[1-9]\d*$/.test(a)===!1||b==null)return;b=(b=j[b])!=null?b:(h||(h=d("LSIntEnum"))).ofNumber(1);return[(i||(i=d("I64"))).of_string(a),b]}function l(a){var b=a.map(function(a){a=a[0];return(i||(i=d("I64"))).to_string(a)});b=new Set(b);if(b.size!==a.length){c("recoverableViolation")("Duplicate thread in cookie (t3)","messenger_comet");return a.filter(function(a,b,c){var e=a[0];return!c.slice(b+1|0).some(function(a){a=a[0];return(i||(i=d("I64"))).equal(a,e)})})}else return a}function a(a){if(a==null)return d("MWChatStateV2Types").emptyMWChatState;if(c("killswitch")("MESSENGER_WEB_STOP_PERSISTING_CHAT_HEADS")||!c("gkx")("24038")||!a.startsWith("C"))return d("MWChatStateV2Types").emptyMWChatState;a=a.slice(1);try{a=JSON.parse(a)}catch(b){c("recoverableViolation")("Error parsing JSON string","messenger_comet"),a=null}if(a===null)return d("MWChatStateV2Types").emptyMWChatState;var b=[],e=new Set();a.t3.forEach(function(a){var c=a.i;c=k(c);if(c!=null){b.push(c);a.o===1&&e.add(c);return}});var f=l(b),g=new Map(),h={contents:0};f.forEach(function(b){var a=b[0];b=b[1];var c=e.has([a,b]);g.set(h.contents,{clientForcedMinimizeWatermark:0,closeWatermark:0,minimizeWatermark:c?0:1,openFlyoutWatermark:0,openWatermark:c?1:0,tabId:h.contents,tabType:{threadKeyDescriptor:{clientThreadKey:void 0,threadKey:a,threadType:b},type:d("MWChatStateV2Types").MWChatStateTabType.ChatTab}});h.contents=h.contents+1|0});a=a.lm3;if(a!=null){a=k(a);if(a!=null){var j=a[0];a=a[1];f.some(function(a){a=a[0];return(i||(i=d("I64"))).equal(a,j)})||g.set(h.contents,{clientForcedMinimizeWatermark:0,closeWatermark:0,minimizeWatermark:0,openFlyoutWatermark:0,openWatermark:2,tabId:h.contents,tabType:{threadKeyDescriptor:{clientThreadKey:void 0,threadKey:j,threadType:a},type:d("MWChatStateV2Types").MWChatStateTabType.ChatTab}});h.contents=h.contents+1|0}}return{focusedTabId:void 0,mediaViewerOpenWatermark:-1,nextTabId:h.contents,tabs:g}}g.read=a}),98);
__d("MWChatStateV2IsMinimized",["MWChatStateV2IsClosed","MWChatStateV2IsOpen"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){if(a!=null)if(d("MWChatStateV2IsOpen").isOpen(a,b))return!1;else return!d("MWChatStateV2IsClosed").isClosed(b);else return Math.max(b.minimizeWatermark,b.clientForcedMinimizeWatermark)>Math.max(b.openWatermark,b.closeWatermark)}g.isMinimized=a}),98);
__d("MWPActor.react",["Actor","CurrentMessengerUser","I64","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||(h=d("react"));e=h;var k=e.createContext,l=e.useContext,m=e.useMemo,n=k();function a(){var a=l(n),b=d("Actor").useActor(),c=b[0],e=m(function(){return(i||(i=d("I64"))).of_string(c)},[c]),f=d("CurrentMessengerUser").getPageMessagingMailboxId(),g=m(function(){return f!=="0"?(i||(i=d("I64"))).of_string(f):null},[f]);b=m(function(){return a!=null?a:g!=null?g:e},[e,a,g]);return b}function b(){return o()!=null}function o(){var a=d("CurrentMessengerUser").getPageMessagingMailboxId();return a==="0"?null:a}function c(a){var b=a.actorId;a=a.children;return b!=null?j.jsx(n.Provider,{value:b,children:a},(i||(i=d("I64"))).to_string(b)):a}c.displayName=c.name+" [from "+f.id+"]";g.useActor=a;g.isAPPlus=b;g.getAPPlusMailboxId=o;g.MWPActorProvider=c}),98);
__d("useMWChatStateV2CrossTabSync",["I64","MWChatStateV2IsMinimized","MWChatStateV2IsOpen","MWChatStateV2Types","MWPActor.react","react","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i;b=h||d("react");var j=b.useEffect,k=b.useMemo;function l(a,b){a==null?void 0:a.postMessage(b)}function m(a,b){if(a==null)return function(){};var c=function(a){return b(a.data)};a.addEventListener("message",c);return function(){a.removeEventListener("message",c)}}function n(){var a=d("MWPActor.react").useActor();return k(function(){return window.BroadcastChannel?new BroadcastChannel("MWChatStateV2_"+(i||(i=d("I64"))).to_string(a)):null},[a])}function o(a){a=Array.from(a.tabs.values());var b=[];a.forEach(function(a){var c=a.tabType;if(c.type===d("MWChatStateV2Types").MWChatStateTabType.ComposeTab)return;c=c.threadKeyDescriptor;var e=c.threadKey;c=c.threadType;b.push({closeWatermark:a.closeWatermark,openWatermark:a.openWatermark,threadKey:(i||(i=d("I64"))).to_string(e),threadType:i.to_string(c)})});return b}function p(a,b,c){return[{inserter:function(a){return{clientForcedMinimizeWatermark:a.clientForcedMinimizeWatermark,closeWatermark:a.closeWatermark,minimizeWatermark:c,openFlyoutWatermark:a.openFlyoutWatermark,openWatermark:a.openWatermark,tabId:a.tabId,tabType:a.tabType}},tabConfig:{shouldFocus:!1},tabType:{threadKeyDescriptor:{clientThreadKey:void 0,threadKey:a,threadType:b},type:d("MWChatStateV2Types").MWChatStateTabType.ChatTab},type:d("MWChatStateV2Types").MWChatStateActionsType.UpsertTab,updater:function(a){return d("MWChatStateV2IsOpen").isOpen(void 0,a)?a:{clientForcedMinimizeWatermark:a.clientForcedMinimizeWatermark,closeWatermark:a.closeWatermark,minimizeWatermark:c,openFlyoutWatermark:a.openFlyoutWatermark,openWatermark:a.openWatermark,tabId:a.tabId,tabType:a.tabType}}}]}function q(a,b){return[{tabConfig:{shouldFocus:!1},threadKey:a,type:d("MWChatStateV2Types").MWChatStateActionsType.UpdateTabByThreadKey,updater:function(a){if(d("MWChatStateV2IsMinimized").isMinimized(void 0,a))return{clientForcedMinimizeWatermark:a.clientForcedMinimizeWatermark,closeWatermark:b,minimizeWatermark:a.minimizeWatermark,openFlyoutWatermark:a.openFlyoutWatermark,openWatermark:a.openWatermark,tabId:a.tabId,tabType:a.tabType};else return a}}]}function a(a,b,e,f){var g=n();j(function(){if(e){f(function(){return!1});var b=o(a);l(g,b)}},[a,g,e,f]);j(function(){return m(g,function(a){try{a=a;a.forEach(function(a){var c=(i||(i=d("I64"))).of_string(a.threadKey),e=i.of_string(a.threadType),f=a.closeWatermark;a=a.openWatermark;if(a>f)return b(p(c,e,a));else return b(q(c,f))});return}catch(a){c("recoverableViolation")("Cross-tab sync error","messenger_comet")}})},[g,b])}g["default"]=a}),98);
__d("MWChatStateV2.react",["CometErrorBoundary.react","FBLogger","I64","MWChatInteraction","MWChatStateContext","MWChatStateV2IsClosed","MWChatStateV2IsOpen","MWChatStateV2Logging","MWChatStateV2Types","MWThreadListNewMessageState.react","MWV2CookieReader","MessengerWebPresenceCookieData","RecoverableViolationWithComponentStack.react","cr:101","emptyObject","react","useMWChatStateV2CrossTabSync"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||(h=d("react")),k=h,l=k.Fragment,m=k.createContext,n=k.useCallback,o=k.useContext,p=k.useReducer,q=k.useState;function r(a,b){return(a=Array.from(a.tabs.values()).find(function(a){a=a.tabType;if(a.type===d("MWChatStateV2Types").MWChatStateTabType.ComposeTab)return b.type===d("MWChatStateV2Types").MWChatStateTabType.ComposeTab;else if(b.type===d("MWChatStateV2Types").MWChatStateTabType.ComposeTab)return!1;return(i||(i=d("I64"))).equal(a.threadKeyDescriptor.threadKey,b.threadKeyDescriptor.threadKey)}))==null?void 0:a.tabId}function s(a,b){a=Array.from(a.tabs.values()).find(function(a){a=a.tabType;if(a.type===d("MWChatStateV2Types").MWChatStateTabType.ComposeTab)return b==null;else if(b!=null)return(i||(i=d("I64"))).equal(a.threadKeyDescriptor.threadKey,b);else return!1});if(a!=null)return a.tabId}function t(a,b,c){if(c)if(d("MWChatStateV2IsOpen").isOpen(void 0,b))return b.tabId;else return;c=a.focusedTabId;if(c!=null&&c===b.tabId&&!d("MWChatStateV2IsOpen").isOpen(void 0,b))return;else return a.focusedTabId}function u(a,b){return b.reduce(function(a,b){var c=b;while(!0){var e=c;switch(e.type){case d("MWChatStateV2Types").MWChatStateActionsType.UpdateState:return e.state(a);case d("MWChatStateV2Types").MWChatStateActionsType.UpdateTab:var f,g=e.tabId;if(g==null)return a;var h=a.tabs.get(g);if(h==null)return a;var j=e.updater(h);f=t(a,j,((f=b.tabConfig)==null?void 0:f.shouldFocus)||!1);if(j===h)return a;h=new Map(a.tabs);if(e.tabConfig.shouldClearOldHiddenTab===!0){e=r(a,j.tabType);if(e!=null&&e!==g){var k=h.get(e);k!=null&&d("MWChatStateV2IsClosed").isClosed(k)&&h["delete"](e)}}return A(f,a.mediaViewerOpenWatermark,a.nextTabId,new Map(h).set(g,j));case d("MWChatStateV2Types").MWChatStateActionsType.UpdateTabByThreadKey:k=s(a,b.threadKey);if(k==null||b.tabConfig==null||b.updater==null)return a;c={tabConfig:b.tabConfig,tabId:k,type:d("MWChatStateV2Types").MWChatStateActionsType.UpdateTab,updater:b.updater};continue;case d("MWChatStateV2Types").MWChatStateActionsType.UpsertTab:e=b.inserter;f=b.tabConfig;h=b.tabType;if(h!=null&&h.type===d("MWChatStateV2Types").MWChatStateTabType.ChatTab){g=d("MWChatInteraction").getInteractionTraceForThreadKey((i||(i=d("I64"))).to_string(h.threadKeyDescriptor.threadKey));g==null?void 0:g.addMarkerPoint("MWChatStateUpdateOpenTab","AppTiming")}j=r(a,h);if(j!=null&&f!=null&&b.updater!=null){c={tabConfig:f,tabId:j,type:d("MWChatStateV2Types").MWChatStateActionsType.UpdateTab,updater:b.updater};continue}k=a.nextTabId;g={clientForcedMinimizeWatermark:0,closeWatermark:0,minimizeWatermark:0,openFlyoutWatermark:0,openWatermark:0,tabId:k,tabType:h};j=e(g);h=t(a,j,(k=f==null?void 0:f.shouldFocus)!=null?k:!1);return A(h,a.mediaViewerOpenWatermark,a.nextTabId+1,new Map(a.tabs).set(j.tabId,j))}}return a},a)}function v(){return d("MWV2CookieReader").read(c("MessengerWebPresenceCookieData").cookie)}var w=m();function a(){var a=o(w);if(a!=null)return a;else return function(){c("FBLogger")("messenger_web_product").warn("Tried to open a chat tab on Comet under the new chat state system, MWChatStateV2. But no MWChatStateV2 was found in react context. Wrap your component in MWChatStateV2? You are likely also be part of Blue on Comet. If so do ping our oncall")}}function x(a){a!=null?c("FBLogger")("messenger_browser_clients").catching(a).warn("Error loading MWChatStateV2"):c("FBLogger")("messenger_browser_clients").warn("Error loading MWChatStateV2")}function y(a){a=a.children;var b=p(u,d("MWChatStateV2Types").emptyMWChatState,v),e=b[0],f=b[1];b=q(!1);var g=b[0],h=b[1];b=n(function(b,a){a===void 0&&(a=!0);a&&h(function(){return!0});return f(b)},[f,h]);d("MWChatStateV2Logging").useCookieLiftLogging(e);c("useMWChatStateV2CrossTabSync")(e,f,g,h);g=o(w);if(g!=null)return j.jsx(c("RecoverableViolationWithComponentStack.react"),{errorMessage:"You can't nest MWChatStateV2 in another MWChatStateV2.",projectName:"messenger_comet"});else return j.jsx(d("MWChatStateContext").ChatStateContextProvider,{value:e,children:j.jsx(w.Provider,{value:b,children:a})})}y.displayName=y.name+" [from "+f.id+"]";var z=(k=b("cr:101"))!=null?k:l;function A(a,b,d,e){return babelHelpers["extends"]({},a!=null?{focusedTabId:a}:c("emptyObject"),{mediaViewerOpenWatermark:b,nextTabId:d,tabs:e})}function e(a){a=a.children;a=a;return j.jsx(c("CometErrorBoundary.react"),{onError:x,children:j.jsx(z,{children:j.jsx(y,{children:j.jsx(d("MWThreadListNewMessageState.react").MWThreadListNewMessageStateProvider,{children:a})})})})}e.displayName=e.name+" [from "+f.id+"]";Object.keys(d("MWChatStateContext")).forEach(function(a){if(a==="default"||a==="__esModule")return;g[a]=d("MWChatStateContext")[a]});g.getTabIdFromThreadKey=s;g.reducer=u;g.useDispatch=a;g.MWChatStateV2Provider=e}),98);
__d("MWChatStateActions",["MWChatStateV2.react","MWChatStateV2IsClosed","MWChatStateV2IsMinimized","MWChatStateV2Types","gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return[{state:function(b){var c=b.tabs.get(a);return c!=null&&b.focusedTabId!==a?{focusedTabId:a,mediaViewerOpenWatermark:b.mediaViewerOpenWatermark,nextTabId:b.nextTabId,tabs:b.tabs}:b},type:d("MWChatStateV2Types").MWChatStateActionsType.UpdateState}]}function b(a){return[{state:function(b){var c=d("MWChatStateV2.react").getTabIdFromThreadKey(b,a);if(c==null)return b;var e=b.tabs.get(c);return e!=null&&b.focusedTabId!==c?{focusedTabId:c,mediaViewerOpenWatermark:b.mediaViewerOpenWatermark,nextTabId:b.nextTabId,tabs:b.tabs}:b},type:d("MWChatStateV2Types").MWChatStateActionsType.UpdateState}]}function e(){return[{state:function(a){var b=a.focusedTabId;return b!=null?{focusedTabId:void 0,mediaViewerOpenWatermark:a.mediaViewerOpenWatermark,nextTabId:a.nextTabId,tabs:a.tabs}:a},type:d("MWChatStateV2Types").MWChatStateActionsType.UpdateState}]}function f(a,b){return[{tabConfig:{shouldFocus:!1},tabId:b,type:d("MWChatStateV2Types").MWChatStateActionsType.UpdateTab,updater:function(b){return a<=b.closeWatermark?b:{clientForcedMinimizeWatermark:b.clientForcedMinimizeWatermark,closeWatermark:a,minimizeWatermark:b.minimizeWatermark,openFlyoutWatermark:b.openFlyoutWatermark,openWatermark:b.openWatermark,tabId:b.tabId,tabType:b.tabType}}}]}function h(a,b){return[{tabConfig:{shouldFocus:!1},threadKey:b,type:d("MWChatStateV2Types").MWChatStateActionsType.UpdateTabByThreadKey,updater:function(b){return a<=b.closeWatermark?b:{clientForcedMinimizeWatermark:b.clientForcedMinimizeWatermark,closeWatermark:a,minimizeWatermark:b.minimizeWatermark,openFlyoutWatermark:b.openFlyoutWatermark,openWatermark:b.openWatermark,tabId:b.tabId,tabType:b.tabType}}}]}function i(a,b,c){var e=function(b){return a<=b.openWatermark?b:{clientForcedMinimizeWatermark:b.clientForcedMinimizeWatermark,closeWatermark:b.closeWatermark,minimizeWatermark:b.minimizeWatermark,openFlyoutWatermark:b.openFlyoutWatermark,openWatermark:a,tabId:b.tabId,tabType:c}};return[{inserter:e,tabConfig:b,tabType:c,type:d("MWChatStateV2Types").MWChatStateActionsType.UpsertTab,updater:e}]}function j(a,b){return[{tabConfig:{shouldFocus:!0},tabId:b,type:d("MWChatStateV2Types").MWChatStateActionsType.UpdateTab,updater:function(b){return a<=b.openWatermark?b:{clientForcedMinimizeWatermark:b.clientForcedMinimizeWatermark,closeWatermark:b.closeWatermark,minimizeWatermark:b.minimizeWatermark,openFlyoutWatermark:b.openFlyoutWatermark,openWatermark:a,tabId:b.tabId,tabType:b.tabType}}}]}function k(a,b){return[{tabConfig:{shouldFocus:!1},tabId:b,type:d("MWChatStateV2Types").MWChatStateActionsType.UpdateTab,updater:function(b){return a<=b.minimizeWatermark||d("MWChatStateV2IsClosed").isClosed(b)?b:{clientForcedMinimizeWatermark:b.clientForcedMinimizeWatermark,closeWatermark:b.closeWatermark,minimizeWatermark:a,openFlyoutWatermark:b.openFlyoutWatermark,openWatermark:b.openWatermark,tabId:b.tabId,tabType:b.tabType}}}]}function l(a,b){return[{tabConfig:{shouldFocus:!1},threadKey:b,type:d("MWChatStateV2Types").MWChatStateActionsType.UpdateTabByThreadKey,updater:function(b){return a<=b.minimizeWatermark||d("MWChatStateV2IsClosed").isClosed(b)?b:{clientForcedMinimizeWatermark:b.clientForcedMinimizeWatermark,closeWatermark:b.closeWatermark,minimizeWatermark:a,openFlyoutWatermark:b.openFlyoutWatermark,openWatermark:b.openWatermark,tabId:b.tabId,tabType:b.tabType}}}]}function m(a,b){return[{tabConfig:{shouldFocus:!1},tabId:b,type:d("MWChatStateV2Types").MWChatStateActionsType.UpdateTab,updater:function(b){return a<=b.clientForcedMinimizeWatermark?b:{clientForcedMinimizeWatermark:a,closeWatermark:b.closeWatermark,minimizeWatermark:b.minimizeWatermark,openFlyoutWatermark:b.openFlyoutWatermark,openWatermark:b.openWatermark,tabId:b.tabId,tabType:b.tabType}}}]}function n(a,b){return[{tabConfig:{shouldFocus:!1},threadKey:b,type:d("MWChatStateV2Types").MWChatStateActionsType.UpdateTabByThreadKey,updater:function(b){return a<=b.minimizeWatermark?b:{clientForcedMinimizeWatermark:b.clientForcedMinimizeWatermark,closeWatermark:b.closeWatermark,minimizeWatermark:a,openFlyoutWatermark:b.openFlyoutWatermark,openWatermark:b.openWatermark,tabId:b.tabId,tabType:b.tabType}}}]}function o(a,b){return[{tabConfig:{shouldClearOldHiddenTab:c("gkx")("26350"),shouldFocus:!0},tabId:a,type:d("MWChatStateV2Types").MWChatStateActionsType.UpdateTab,updater:function(a){return babelHelpers["extends"]({},a,{tabType:{threadKeyDescriptor:b,type:d("MWChatStateV2Types").MWChatStateTabType.ChatTab}})}}]}function p(a,b,c,e,f){f===void 0&&(f={shouldClearOldHiddenTab:!1});return[{tabConfig:{shouldClearOldHiddenTab:f.shouldClearOldHiddenTab,shouldFocus:!1},tabId:a,type:d("MWChatStateV2Types").MWChatStateActionsType.UpdateTab,updater:function(a){var f=a.tabType;return f.type===d("MWChatStateV2Types").MWChatStateTabType.ComposeTab?a:babelHelpers["extends"]({},a,{tabType:{threadKeyDescriptor:{clientThreadKey:c,threadKey:b,threadType:(a=e)!=null?a:f.threadKeyDescriptor.threadType},type:d("MWChatStateV2Types").MWChatStateTabType.ChatTab}})}}]}function q(a,b,c){var e=function(b){if(d("MWChatStateV2IsClosed").isClosed(b))return{clientForcedMinimizeWatermark:b.clientForcedMinimizeWatermark,closeWatermark:b.closeWatermark,minimizeWatermark:b.minimizeWatermark,openFlyoutWatermark:b.openFlyoutWatermark,openWatermark:a,tabId:b.tabId,tabType:c};return d("MWChatStateV2IsMinimized").isMinimized(void 0,b)?{clientForcedMinimizeWatermark:b.clientForcedMinimizeWatermark,closeWatermark:b.closeWatermark,minimizeWatermark:b.minimizeWatermark,openFlyoutWatermark:a,openWatermark:b.openWatermark,tabId:b.tabId,tabType:c}:b},f=function(b){return a<=b.openWatermark?b:{clientForcedMinimizeWatermark:b.clientForcedMinimizeWatermark,closeWatermark:b.closeWatermark,minimizeWatermark:b.minimizeWatermark,openFlyoutWatermark:b.openFlyoutWatermark,openWatermark:a,tabId:b.tabId,tabType:c}};return[{inserter:f,tabConfig:b,tabType:c,type:d("MWChatStateV2Types").MWChatStateActionsType.UpsertTab,updater:e}]}function r(a,b){return[{tabConfig:{shouldFocus:!1},threadKey:b,type:d("MWChatStateV2Types").MWChatStateActionsType.UpdateTabByThreadKey,updater:function(b){return a===b.openFlyoutWatermark?{clientForcedMinimizeWatermark:b.clientForcedMinimizeWatermark,closeWatermark:b.closeWatermark,minimizeWatermark:b.minimizeWatermark,openFlyoutWatermark:0,openWatermark:b.openWatermark,tabId:b.tabId,tabType:b.tabType}:b}}]}function s(a){return[{state:function(b){return{focusedTabId:b.focusedTabId,mediaViewerOpenWatermark:a,nextTabId:b.nextTabId,tabs:b.tabs}},type:d("MWChatStateV2Types").MWChatStateActionsType.UpdateState}]}g.focusTab=a;g.focusTabByThreadKey=b;g.blurTab=e;g.closeTab=f;g.closeTabByThreadKey=h;g.openTab=i;g.maximizeTab=j;g.minimizeTab=k;g.minimizeTabByThreadKey=l;g.forceMinimizeTab=m;g.notificationBringHeadToTop=n;g.lockInTab=o;g.updateThreadKeyDescriptor=p;g.openTabOrFlyout=q;g.closeFlyout=r;g.updateMediaViewerOpenWatermark=s}),98);
__d("MWChatTabSharedQPLAnnotations",["I64","MAWCurrentUser","MAWEBSwitch","MWChatMessagesOnChatTabLoadTracker","MultipleTabsLogger","promiseDone","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i=c("requireDeferred")("MAWThreadCutover").__setRef("MWChatTabSharedQPLAnnotations");function j(a){return a===15||a===16}function a(a,b,e){var f=(h||(h=d("I64"))).to_string(e),g=b!=null?j(b):!1;a.addAnnotation("thread_id",f);a.addAnnotation("thread_type",b?b.toString():"");a.addAnnotationBoolean("is_secure",g);a.addAnnotationBoolean("is_eb_enabled",c("MAWEBSwitch").isEnabled());d("MultipleTabsLogger").addAnnotationWithInteractionUuid(a.getTraceId());a.addAnnotationInt("is_tlc_public_user",d("MAWCurrentUser").isTlcPublicUser()?1:0);i.onReady(function(b){c("promiseDone")(b.isCutoverThreadKey(e).then(function(b){a.addAnnotationInt("is_cutover",b?1:0)}))});a.onComplete(function(){var b=d("MWChatMessagesOnChatTabLoadTracker").getMessageSendsCountFor(f),c=d("MWChatMessagesOnChatTabLoadTracker").getMessageReceivesCountFor(f);a.addAnnotationInt("messagesSent",b);a.addAnnotationInt("messagesReceived",c);a.addAnnotationInt("totalMessages",c+b);d("MWChatMessagesOnChatTabLoadTracker").clearMessageCountsFor(f)})}g.addSharedAnnotations=a}),98);
__d("MWCookieUtil",["I64","LSMessagingThreadTypeUtil","MWChatStateV2Types","MWV2CookieReader","MessengerWebPresenceCookieData"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(){return d("MWV2CookieReader").read(c("MessengerWebPresenceCookieData").cookie)}function j(){var a=i();return a.tabs.size>0}function k(){var a=i();return Array.from(a.tabs.values()).reduce(function(a,b){return a||!Boolean(b.minimizeWatermark)},!1)}function a(){var a=i();return Array.from(a.tabs.values()).reduce(function(a,b){return a||!Boolean(b.minimizeWatermark)&&b.tabType.type===d("MWChatStateV2Types").MWChatStateTabType.ChatTab&&d("LSMessagingThreadTypeUtil").isArmadilloSecure(b.tabType.threadKeyDescriptor.threadType)},!1)}function l(){var a=i();if(j()&&k()){a=Array.from(a.tabs.values()).find(function(a){return a.tabType.type===d("MWChatStateV2Types").MWChatStateTabType.ChatTab&&a.minimizeWatermark===0});if(a==null||a.tabType.type!==d("MWChatStateV2Types").MWChatStateTabType.ChatTab)return;var b=a.tabType.threadKeyDescriptor.threadKey;a=a.tabType.threadKeyDescriptor.threadType;return{threadKey:b,threadType:a}}return}function b(a){var b=l();return!b?!1:(h||(h=d("I64"))).equal(b.threadKey,a)}g.getMWCookie=i;g.hasAutoOpenChatTabs=j;g.hasAtLeastOneUnminimizedChatTab=k;g.hasAtLeastOneUnminimizedSecureChatTab=a;g.getAutoChatTabFromCookie=l;g.isAutoChatTabFromCookie=b}),98);
__d("WelcomeMessageSendQPLConstants",["qpl"],(function(a,b,c,d,e,f,g){"use strict";a="welcome_message_send_failed";b="welcome_message_send_success";d="welcome_message_send";e=c("qpl")._(619057412,"608");g.WELCOME_MESSAGE_SEND_FAILED=a;g.WELCOME_MESSAGE_SEND_SUCCESS=b;g.WELCOME_MESSAGE_SEND=d;g.WELCOME_MESSAGE_SEND_QPL_EVENT=e}),98);
__d("useMWChatOpenTabTraceProvider",["CometCurrentInitialLoadVC","CometHeroLogging","I64","MAWEBSwitch","MAWMICSafe","MWChatInteraction","MWChatTabSharedQPLAnnotations","MWCookieUtil","gkx","justknobx","qpl","react","useCometInteractionTracing"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(h||d("react")).useCallback,k=!1,l=c("justknobx")._("2023");function m(a){var b=d("MWCookieUtil").isAutoChatTabFromCookie(a);if(!b)return!1;b=d("MWChatInteraction").getInteractionTraceForThreadKey((i||(i=d("I64"))).to_string(a));a=b==null?void 0:b.getTrace();return a!=null&&!a.completed}function a(){var a=c("useCometInteractionTracing")(c("qpl")._(30605380,"18"),"responsive","INTERACTION");return j(function(b,e,f,g,h){if(m(g)&&l){var j=d("MWChatInteraction").getInteractionTraceForThreadKey((i||(i=d("I64"))).to_string(g));if(j!=null){b(j.getTraceId(),j);return}}a(function(a){var i=c("CometHeroLogging").genHeroInteractionUUIDAndMarkStart(a.getTraceId());a.addAnnotationBoolean("is_pdb",c("gkx")("24032"));var j=d("MAWMICSafe").duringMIC();j&&a.addAnnotationInt("startedDuringMIC",1);a.addMetadata("entrypoint",f);a.addAnnotationBoolean("is_eb_enabled",c("MAWEBSwitch").isEnabled());a.addMetadata("hasBadge",h!=null?h.toString():"");d("MWChatTabSharedQPLAnnotations").addSharedAnnotations(a,e,g);a.onComplete(function(b){k?a.addMetadata("revisit",1):(a.addMetadata("revisit",0),k=!0);var c=d("CometCurrentInitialLoadVC").getInitialLoadVC();c!=null&&a.addAnnotationInt("sinceInitialLoadVC",Math.round(b.start-c))});b(i,a)},void 0,void 0,void 0,(i||(i=d("I64"))).to_string(g))},[a])}g["default"]=a}),98);
__d("useMWChatOpenTabForPage",["I64","LSIntEnum","LSThreadAttributionStore","MWChatInteraction","MWChatStateActions","MWChatStateV2.react","MWChatStateV2Types","react","recoverableViolation","requireDeferred","useCometFeedNoRoutingNavigationEventLogger","useMWChatOpenTabTraceProvider"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=(h||d("react")).useMemo,l=c("requireDeferred")("MWChatLogOpenChatTab").__setRef("useMWChatOpenTabForPage");function a(a,b){var e=(b=b==null?void 0:b.preventAutofocus_DO_NOT_USE)!=null?b:!1,f=c("useMWChatOpenTabTraceProvider")(),g=c("useCometFeedNoRoutingNavigationEventLogger")(),h=d("MWChatStateV2.react").useDispatch();return k(function(){return function(b,k){var m=(k=k)!=null?k:!1;g(Date.now(),"","messenger");d("LSThreadAttributionStore").setSource(b,a);l.onReady(function(c){return c.logOpenPageTab(void 0,b,a)});return f(function(a){d("MWChatInteraction").set(b,a);if(m){c("recoverableViolation")("Opening secure converstions with pages not supported","messenger_web_entrypoints");return}else return h(d("MWChatStateActions").openTab(Date.now(),{shouldFocus:!e},{threadKeyDescriptor:{clientThreadKey:void 0,threadKey:(i||(i=d("I64"))).of_string(b),threadType:(j||(j=d("LSIntEnum"))).ofNumber(1)},type:d("MWChatStateV2Types").MWChatStateTabType.ChatTab}))},14,a,(i||(i=d("I64"))).of_string(b))}},[g,a,f,h,e])}g["default"]=a}),98);
__d("useCometClickToMessageActionLink",["CometRelay","emptyFunction","requireDeferred","useMWChatOpenTabForPage"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("MWChatBusinessCTAAdsSenderMutation").__setRef("useCometClickToMessageActionLink");function a(a,b,e,f,g,i){var j=c("useMWChatOpenTabForPage")("feedOrganicPostNewsfeedPagePostCta"),k=d("CometRelay").useRelayEnvironment();return b==null?c("emptyFunction"):function(){var c;j((c=e)!=null?c:b);h.onReady(function(c){return c.sendAds(k,{ad_id:a,page_id:b,photo_index:f,post_id:g,product_id:i})})}}g["default"]=a}),98);